[{"path":"https://reckziegel.github.io/invariance/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to invariance","title":"Contributing to invariance","text":"outlines propose change invariance. detailed info contributing , tidyverse packages, please see development contributing guide.","code":""},{"path":"https://reckziegel.github.io/invariance/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to invariance","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://reckziegel.github.io/invariance/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to invariance","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed).","code":""},{"path":"https://reckziegel.github.io/invariance/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to invariance","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"Reckziegel/invariance\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://reckziegel.github.io/invariance/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to invariance","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://reckziegel.github.io/invariance/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to invariance","text":"Please note invariance project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://reckziegel.github.io/invariance/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 Bernardo Reckziegel Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://reckziegel.github.io/invariance/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Bernardo Reckziegel. Maintainer.","code":""},{"path":"https://reckziegel.github.io/invariance/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Reckziegel B (2022). invariance: Invariance Test Statistical Analysis. R package version 0.1.0, https://reckziegel.github.io/invariance/.","code":"@Manual{,   title = {invariance: Invariance Test for Statistical Analysis},   author = {Bernardo Reckziegel},   year = {2022},   note = {R package version 0.1.0},   url = {https://reckziegel.github.io/invariance/}, }"},{"path":"https://reckziegel.github.io/invariance/index.html","id":"invariance","dir":"","previous_headings":"","what":"Invariance Test for Statistical Analysis","title":"Invariance Test for Statistical Analysis","text":"goal invariance help users perform first step Meucci’s Checklist: Quest Invariance.","code":""},{"path":"https://reckziegel.github.io/invariance/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Invariance Test for Statistical Analysis","text":"can install development version invariance Github devtools:","code":"# install.packages(\"devtools\") devtools::install_github(\"Reckziegel/invariance\")"},{"path":"https://reckziegel.github.io/invariance/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Invariance Test for Statistical Analysis","text":"main statistics time-series can summarized series_describe: check asset stationary - “invariant” - use invariance_test:  “invariant” time-series shape ellipsoid circular histograms look . test distribution shows evidence changing behavior due structural breaks, regime shifts, etc. use ks_test:  two pieces distribution statistically different among Bayesian estimation technique may recommended next step Checklist: Estimation.","code":"library(invariance) library(tibble)  # Log-returns as candidates for invariance x <- as_tibble(diff(log(EuStockMarkets))) x #> # A tibble: 1,859 x 4 #>         DAX      SMI       CAC      FTSE #>       <dbl>    <dbl>     <dbl>     <dbl> #>  1 -0.00933  0.00618 -0.0127    0.00677  #>  2 -0.00442 -0.00588 -0.0187   -0.00489  #>  3  0.00900  0.00327 -0.00578   0.00903  #>  4 -0.00178  0.00148  0.00874   0.00577  #>  5 -0.00468 -0.00893 -0.00512  -0.00723  #>  6  0.0124   0.00674  0.0117    0.00852  #>  7  0.00576  0.0122   0.0131    0.00821  #>  8 -0.00287 -0.00359 -0.00194   0.000837 #>  9  0.00635  0.0110   0.000171 -0.00523  #> 10  0.00118  0.00436  0.00313   0.0140   #> # ... with 1,849 more rows series_describe(x) #> # A tibble: 4 x 13 #>   asset observations    na minimum quartile_1  median    mean quartile_3 maximum #>   <chr>        <dbl> <dbl>   <dbl>      <dbl>   <dbl>   <dbl>      <dbl>   <dbl> #> 1 DAX           1859     0 -0.0963   -0.00469 4.73e-4 6.52e-4    0.00636  0.0508 #> 2 SMI           1859     0 -0.0838   -0.00380 8.86e-4 8.18e-4    0.00607  0.0497 #> 3 CAC           1859     0 -0.0758   -0.00606 0       4.37e-4    0.00710  0.0610 #> 4 FTSE          1859     0 -0.0414   -0.00432 8.02e-5 4.32e-4    0.00525  0.0544 #> # ... with 4 more variables: variance <dbl>, std <dbl>, skewness <dbl>, #> #   kurtosis <dbl> # must be univariate invariance_test(x[\"CAC\"]) ks_test(x[ , 1]) #>  #>  Two-sample Kolmogorov-Smirnov test #>  #> data:  x and y #> D = 0.067441, p-value = 0.02917 #> alternative hypothesis: two-sided"},{"path":"https://reckziegel.github.io/invariance/index.html","id":"reference","dir":"","previous_headings":"","what":"Reference","title":"Invariance Test for Statistical Analysis","text":"Meucci, Attilio, ‘Prayer’ Ten-Step Checklist Advanced Risk Portfolio Management (February 2, 2011). Available SSRN: https://ssrn.com/abstract=1753788 http://dx.doi.org/10.2139/ssrn.1753788","code":""},{"path":"https://reckziegel.github.io/invariance/reference/invariance_test.html","id":null,"dir":"Reference","previous_headings":"","what":"Visual Test for Stationarity — invariance_test","title":"Visual Test for Stationarity — invariance_test","text":"\"invariant\" time-series histograms look shape ellipsoid circular.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/invariance_test.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visual Test for Stationarity — invariance_test","text":"","code":"invariance_test(.invariant)  # S3 method for default invariance_test(.invariant)  # S3 method for tbl_df invariance_test(.invariant)  # S3 method for xts invariance_test(.invariant)  # S3 method for matrix invariance_test(.invariant)  # S3 method for numeric invariance_test(.invariant)"},{"path":"https://reckziegel.github.io/invariance/reference/invariance_test.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visual Test for Stationarity — invariance_test","text":".invariant univariate time-series.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/invariance_test.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visual Test for Stationarity — invariance_test","text":"ggplot2 object.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/invariance_test.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visual Test for Stationarity — invariance_test","text":"","code":"library(tibble)  x <- as_tibble(diff(log(EuStockMarkets)))  invariance_test(x[\"CAC\"])  invariance_test(x[\"DAX\"])"},{"path":"https://reckziegel.github.io/invariance/reference/ks_test.html","id":null,"dir":"Reference","previous_headings":"","what":"Kolmogorov-Smirnov Test for Invariance — ks_test","title":"Kolmogorov-Smirnov Test for Invariance — ks_test","text":"Perform two-sample Kolmogorov-Smirnov test splitting target invariant two pieces.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/ks_test.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Kolmogorov-Smirnov Test for Invariance — ks_test","text":"","code":"ks_test(.invariant, ...)  # S3 method for default ks_test(.invariant, ...)  # S3 method for tbl_df ks_test(.invariant, ...)  # S3 method for xts ks_test(.invariant, ...)  # S3 method for matrix ks_test(.invariant, ...)  # S3 method for numeric ks_test(.invariant, ...)"},{"path":"https://reckziegel.github.io/invariance/reference/ks_test.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Kolmogorov-Smirnov Test for Invariance — ks_test","text":".invariant univariate timeseries. ... Additional arguments passed ks.test.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/ks_test.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Kolmogorov-Smirnov Test for Invariance — ks_test","text":"ggplot2 object.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/ks_test.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Kolmogorov-Smirnov Test for Invariance — ks_test","text":"function wrappers ks.test.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/ks_test.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Kolmogorov-Smirnov Test for Invariance — ks_test","text":"","code":"x <- diff(log(EuStockMarkets))[ , 2]  ks_test(matrix(x)) #>  #> \tAsymptotic two-sample Kolmogorov-Smirnov test #>  #> data:  x and y #> D = 0.063241, p-value = 0.04859 #> alternative hypothesis: two-sided #>"},{"path":"https://reckziegel.github.io/invariance/reference/kurtosis.html","id":null,"dir":"Reference","previous_headings":"","what":"Kurtosis of a Time-series — kurtosis","title":"Kurtosis of a Time-series — kurtosis","text":"function computes kurtosis given data set. written internal computations.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/kurtosis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Kurtosis of a Time-series — kurtosis","text":"","code":"kurtosis(.invariant, .method = c(\"excess\", \"moment\", \"fisher\"), .na_rm = FALSE)"},{"path":"https://reckziegel.github.io/invariance/reference/kurtosis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Kurtosis of a Time-series — kurtosis","text":".invariant univariate multivariate time series. .method character string. One : \"excess\", \"moment\" \"fisher\". .na_rm logical value. missing values removed? default FALSE.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/kurtosis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Kurtosis of a Time-series — kurtosis","text":"tidy tibble 2 columns.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/kurtosis.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Kurtosis of a Time-series — kurtosis","text":"method can either \"moment\", \"fisher\", \"excess\".","code":""},{"path":[]},{"path":"https://reckziegel.github.io/invariance/reference/kurtosis.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Kurtosis of a Time-series — kurtosis","text":"","code":"if (FALSE) {   kurtosis(diff(log(EuStockMarkets)), .method = 'excess') }"},{"path":"https://reckziegel.github.io/invariance/reference/series_describe.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary Statistics of Time-Series — series_describe","title":"Summary Statistics of Time-Series — series_describe","text":"function designed exploratory purposes.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/series_describe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary Statistics of Time-Series — series_describe","text":"","code":"series_describe(.invariant, .digits = 4)"},{"path":"https://reckziegel.github.io/invariance/reference/series_describe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary Statistics of Time-Series — series_describe","text":".invariant univariate multivariate time-series. .digits number digits print.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/series_describe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary Statistics of Time-Series — series_describe","text":"tibble basic statistics exploratory analysis.","code":""},{"path":[]},{"path":"https://reckziegel.github.io/invariance/reference/series_describe.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary Statistics of Time-Series — series_describe","text":"","code":"# univariate series_describe(diff(log(EuStockMarkets[ , 1, drop = FALSE]))) #> # A tibble: 1 × 13 #>   asset observations    na minimum quartile_1  median    mean quartile_3 maximum #>   <chr>        <dbl> <dbl>   <dbl>      <dbl>   <dbl>   <dbl>      <dbl>   <dbl> #> 1 DAX           1859     0 -0.0963   -0.00469 4.73e-4 6.52e-4    0.00636  0.0508 #> # … with 4 more variables: variance <dbl>, std <dbl>, skewness <dbl>, #> #   kurtosis <dbl>  # multivariate series_describe(diff(log(EuStockMarkets))) #> # A tibble: 4 × 13 #>   asset observations    na minimum quartile_1  median    mean quartile_3 maximum #>   <chr>        <dbl> <dbl>   <dbl>      <dbl>   <dbl>   <dbl>      <dbl>   <dbl> #> 1 DAX           1859     0 -0.0963   -0.00469 4.73e-4 6.52e-4    0.00636  0.0508 #> 2 SMI           1859     0 -0.0838   -0.00380 8.86e-4 8.18e-4    0.00607  0.0497 #> 3 CAC           1859     0 -0.0758   -0.00606 0       4.37e-4    0.00710  0.0610 #> 4 FTSE          1859     0 -0.0414   -0.00432 8.02e-5 4.32e-4    0.00525  0.0544 #> # … with 4 more variables: variance <dbl>, std <dbl>, skewness <dbl>, #> #   kurtosis <dbl>"},{"path":"https://reckziegel.github.io/invariance/reference/skewness.html","id":null,"dir":"Reference","previous_headings":"","what":"Skewness of a Time-series — skewness","title":"Skewness of a Time-series — skewness","text":"function computes kurtosis given data set. written internal computations.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/skewness.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Skewness of a Time-series — skewness","text":"","code":"skewness(.invariant, .method = c(\"moment\", \"fisher\"), .na_rm = FALSE)"},{"path":"https://reckziegel.github.io/invariance/reference/skewness.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Skewness of a Time-series — skewness","text":".invariant univariate multivariate time series. .method character string. One : \"excess\", \"moment\" \"fisher\". .na_rm logical value. missing values removed? default FALSE.","code":""},{"path":"https://reckziegel.github.io/invariance/reference/skewness.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Skewness of a Time-series — skewness","text":"tidy tibble 2 columns.","code":""},{"path":[]},{"path":"https://reckziegel.github.io/invariance/reference/skewness.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Skewness of a Time-series — skewness","text":"","code":"if (FALSE) {   skewness(diff(log(EuStockMarkets))) }"},{"path":"https://reckziegel.github.io/invariance/reference/tidyeval.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy eval helpers — tidyeval","title":"Tidy eval helpers — tidyeval","text":"page lists tidy eval tools reexported package rlang. learn using tidy eval scripts packages high level, see dplyr programming vignette ggplot2 packages vignette. Metaprogramming section Advanced R may also useful deeper dive. tidy eval operators {{, !!, !!! syntactic constructs specially interpreted tidy eval functions. mostly need {{, !! !!! advanced operators use simple cases. curly-curly operator {{ allows tunnel data-variables passed function arguments inside tidy eval functions. {{ designed individual arguments. pass multiple arguments contained dots, use ... normal way.   enquo() enquos() delay execution one several function arguments. former returns single expression, latter returns list expressions. defused, expressions longer evaluate . must injected back evaluation context !! (single expression) !!! (list expressions).   simple case, code equivalent usage {{ ... . Defusing enquo() enquos() needed complex cases, instance need inspect modify expressions way. .data pronoun object represents current slice data. variable name string, use .data pronoun subset variable [[.   Another tidy eval operator :=. makes possible use glue curly-curly syntax LHS =. technical reasons, R language support complex expressions left =, use := workaround.   Many tidy eval functions like dplyr::mutate() dplyr::summarise() give automatic name unnamed inputs. need create sort automatic names , use as_label(). instance, glue-tunnelling syntax can reproduced manually :   Expressions defused enquo() (tunnelled {{) need simple column names, can arbitrarily complex. as_label() handles cases gracefully. code assumes simple column name, use as_name() instead. safer throws error input name expected.","code":"my_function <- function(data, var, ...) {   data %>%     group_by(...) %>%     summarise(mean = mean({{ var }})) } my_function <- function(data, var, ...) {   # Defuse   var <- enquo(var)   dots <- enquos(...)    # Inject   data %>%     group_by(!!!dots) %>%     summarise(mean = mean(!!var)) } my_var <- \"disp\" mtcars %>% summarise(mean = mean(.data[[my_var]])) my_function <- function(data, var, suffix = \"foo\") {   # Use `{{` to tunnel function arguments and the usual glue   # operator `{` to interpolate plain strings.   data %>%     summarise(\"{{ var }}_mean_{suffix}\" := mean({{ var }})) } my_function <- function(data, var, suffix = \"foo\") {   var <- enquo(var)   prefix <- as_label(var)   data %>%     summarise(\"{prefix}_mean_{suffix}\" := mean(!!var)) }"}]
